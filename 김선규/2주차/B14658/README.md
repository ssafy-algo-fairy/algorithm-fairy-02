# 🌠 BOJ 14658 - 하늘에서 별똥별이 빗발친다

- 🔗 문제 링크: https://www.acmicpc.net/problem/14658
- 🏷️ 분류: 완전탐색(브루트포스), 기하(축 정렬 정사각형), 관찰

---

## 📌 문제 요약
가로 `N`, 세로 `M` 범위 안에 별똥별 `K`개가 떨어진 좌표가 주어진다.  
한 변의 길이가 `L`인 **축에 평행한 정사각형(트램펄린)** 을 설치해
정사각형 내부(경계 포함)에 들어오는 별똥별을 튕겨낼 수 있다.

목표:
- 튕겨내지 못하는 별똥별(= 정사각형 밖에 있는 별똥별) 최소 개수를 출력

즉,
- **정사각형 안에 최대 몇 개를 담을 수 있는지**를 구한 뒤  
- `K - maxCnt` 를 출력하면 된다.

---

## 💡 풀이 아이디어
처음에는 맵 전체에서 가능한 정사각형 위치를 탐색할 수도 있지만,
`N, M`이 클 수 있어 **전체 좌표를 훑는 방식은 시간 초과가 날 것 같았다.**

➡️ 포인트는 “정사각형을 최적으로 놓을 때, 왼쪽 아래 꼭짓점의 x/y는 별똥별 좌표 중 하나로 맞춰도 충분하다”는 관찰이다.

- 어떤 최적 배치가 있다면,
  - x를 왼쪽으로 더 밀어도(별을 잃지 않는 선에서) 결국 어떤 별의 x에 걸리게 됨
  - y도 동일하게 어떤 별의 y에 걸리게 됨

그래서:
- 정사각형의 기준점 `(x, y)` 후보를
  - `x = 어떤 별의 x`
  - `y = 어떤 별의 y`
  로만 잡아도 모든 최적 해를 커버할 수 있다.

---

## ✅ 알고리즘
1. 모든 별의 좌표를 `starList`에 저장
2. 모든 `x 후보`(별의 x) × 모든 `y 후보`(별의 y)를 조합으로 시도
3. 각 `(x, y)`에 대해 정사각형 `[x, x+L] × [y, y+L]` 안에 포함되는 별 개수 카운트
4. 가장 많이 담기는 개수 `maxCnt` 갱신
5. 정답 = `K - maxCnt`

---

## 🔎 포함 판정(경계 포함)
별 `(sx, sy)`가 정사각형 안에 들어가려면:

- `x ≤ sx ≤ x + L`
- `y ≤ sy ≤ y + L`

코드에서는 범위를 벗어나면 continue하는 방식으로 카운트한다.

---

## ⏱️ 복잡도
- x 후보: K개
- y 후보: K개
- 각 후보에서 별 카운트: K개 검사

따라서:
- 시간 복잡도: `O(K^3)`
- 공간 복잡도: `O(K)`

`K`가 크지 않은 조건에서 충분히 가능한 풀이이며,
“맵 전체 탐색”을 피하고 **별 좌표만 기준으로 탐색**한 것이 핵심 최적화다.

---

## 📝 구현 포인트(코드 기준)
- `Star` 클래스로 `(x, y)` 저장해 가독성 확보
- 정사각형 위치 후보를 “별 좌표”에서만 선택해 탐색 범위를 줄임
- 최대로 담은 개수 `maxCnt`만 알면 최종 출력은 `K - maxCnt`

---
