## **ğŸ” ë¬¸ì œ ìš”ì•½**

- 1 â‰¤ i â‰¤ j â‰¤ N ì •ìˆ˜ì— ëŒ€í•´ A[i]ë¶€í„°  A[j]ê¹Œì§€ì˜ ë¶€ë¶„í•©ì´ ì£¼ì–´ì§
- ì „ì²´ ë¶€ë¶„í•© ê°œìˆ˜ëŠ” N * (N+1) / 2
- ì´ì¤‘ ì£¼ì–´ì§„ í•©ì„ ë§Œì¡±í•˜ëŠ” ë¶€ë¶„í•©ì´ ëª‡ê°œì¼ê¹Œ

- 1 â‰¤ N â‰¤ 200,000
- |K| â‰¤ 2,000,000,000

---

## **ğŸ’¡ë¬¸ì œ ì ‘ê·¼ / í’€ì´ ì „ëµ**

**ì‹œë„ë“¤â€¦**

- 200,000 ^ 2 / 2 â†’ 2ì²œì–µ â†’ ì™„ì „íƒìƒ‰ì€ ì‹œê°„ì´ˆê³¼
    - code : ì™„ì „íƒìƒ‰ êµ¬í˜„ ì¼ë‹¨ í•´ë´„ â†’ ì‹œê°„ì´ˆê³¼
- ìŒìˆ˜ê°€ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì— ì´ˆê³¼í–ˆë‹¤ê³ í•´ì„œ ëë‚¼ìˆ˜ X
    - ex) K = 2 ì¼ë•Œ {2, 0, -1, 1} â†’ ì¸ë±ìŠ¤ 0ì—ì„œ ëë‚´ë©´ ì•ˆë¨

**â­ ì ‘ê·¼ í¬ì¸íŠ¸** 

- íŠ¹ì • êµ¬ê°„ì˜ í•©ì´ Kê°€ ë˜ëŠ” ê²½ìš° â‡’ `S[j] - S[i-1] = K` â‡’ `S[j] - K = S[i-1]`
- íŠ¹ì • êµ¬ê°„ì—ì„œ Kë¥¼ ëº€ ê°’ì„ ì•ì˜ êµ¬ê°„í•© ë‚´ì—ì„œ ë‹¤ì‹œ ì°¾ìœ¼ë©´ ë¨ â†’ Map
- ìˆ«ìë¥¼ ì¶”ê°€í•˜ë©´ì„œ ìê¸° ì•ì˜ êµ¬ê°„í•©ì„ ëª¨ë‘ ì²´í¬í•˜ëŠ” ë°©ì‹

- ì˜ˆì‹œ : N = 5, K = 3
    
    
    | 1 | 2 | 3 | -2 | 5 |
    | --- | --- | --- | --- | --- |
1. ë¨¼ì € ë§µì— {0 = 1} ë„£ê¸° (í˜„ì¬ ì§€ì ì´ ì •í™•íˆ ëˆ„ì í•© ì¸ ê²½ìš°)
2. ië²ˆì§¸ ìˆ«ìë¥¼ ë°›ìœ¼ë©´ì„œ í˜„ì¬ êµ¬ê°„ í•© ê°±ì‹ 
    - `sum = 1 â†’ 3 â†’ 6 â†’ 4 â†’ 9`
3. mapì— sum - Kê°€ ìˆëŠ”ì§€ ë³´ê³  ê°œìˆ˜ë§Œí¼ ì¦ê°€
    - sum = 6ì¸ ìƒí™©ì—ì„œ sum - K = 3 â†’ ë§µì— (3,1) ìˆìœ¼ë¯€ë¡œ 1 ì¦ê°€
    - sumì—ì„œ ì•ì˜ ëˆ„ì í•©ë“¤ì„ ë¹¼ë©´ì„œ Kì™€ ê°™ì€ì§€ í™•ì¸í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, Kë¥¼ ëº€ ê°’ì´ ëˆ„ì í•©ì¤‘ì— ìˆëŠ”ì§€ë¥¼ í™•ì¸í•˜ëŠ” ê²ƒ
4. mapì— í˜„ì¬ ëˆ„ì í•© ì¶”ê°€ 
    - ì—†ìœ¼ë©´ ë„£ê³  ìˆìœ¼ë©´ +1
    - `map = {0 = 1, 1 = 1, 3 = 1 â€¦. }`

**ì£¼ì˜í•  ì **

- ëª¨ë“  êµ¬ê°„ì´ êµ¬ê°„í•©ì´ ë˜ëŠ”ê²ƒë„ ê°€ëŠ¥í•˜ë¯€ë¡œ cntë¥¼ ***long***ìœ¼ë¡œ ì„ ì–¸í•˜ê¸°
- í˜„ì¬ ì§€ì ì´ ì •í™•íˆ êµ¬ê°„í•©ì´ ë˜ëŠ” ê²½ìš°ì—ëŠ” sum - K = 0ì´ë¯€ë¡œ **(0,1)**ì„ ë¯¸ë¦¬ ë„£ì–´ë†“ê¸°

---

## **âœ…Â ì½”ë“œ & ì†Œìš” ì‹œê°„**

```java
package boj2015;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.HashMap;
import java.util.StringTokenizer;
import java.util.TreeMap;

public class Main {
	
	static int N, K;
	static HashMap<Integer, Integer> map;

	public static void main(String[] args) throws IOException{
		BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
		StringTokenizer st = new StringTokenizer(br.readLine());
		
		N = Integer.parseInt(st.nextToken());
		K = Integer.parseInt(st.nextToken());
		
		map = new HashMap<>();
		map.put(0, 1);	// í˜„ì¬ ì§€ì ì´ ëˆ„ì í•©ì´ ë  ê²½ìš°
		
		int sum = 0;
		long cnt = 0;
		
		st = new StringTokenizer(br.readLine());
		for(int i = 0; i < N; i++) {
			sum += Integer.parseInt(st.nextToken());
			
			// ìˆìœ¼ë©´ ê°œìˆ˜ë§Œí¼ ì¦ê°€
			if(map.containsKey(sum - K))	cnt += map.get(sum - K);
			
			// í˜„ì¬ ëˆ„ì í•© ì¶”ê°€ : ì—†ìœ¼ë©´ ë„£ê³ , ìˆìœ¼ë©´ +1
			map.put(sum, map.getOrDefault(sum, 0) + 1);	
		}
		
		System.out.println(cnt);
		
	}

}

```

32212 KB / 296ms

---

## **âœï¸ íšŒê³ **

- ì„ ê·œë‹˜ì˜ ë„ì›€ì„ ë°›ì•˜ìˆ©ë‹ˆë‹¤..^^ í—ˆí—ˆ
